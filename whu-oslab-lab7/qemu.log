make build --directory=user
make[1]: Entering directory '/home/xsy/whu-oslab-lab7/user'
make[1]: Nothing to be done for 'build'.
make[1]: Leaving directory '/home/xsy/whu-oslab-lab7/user'
make build --directory=kernel
make[1]: Entering directory '/home/xsy/whu-oslab-lab7/kernel'
make build --directory=boot/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/boot'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/boot'
make build --directory=dev/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/dev'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/dev'
make build --directory=fs/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/fs'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/fs'
make build --directory=lib/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/lib'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/lib'
make build --directory=mem/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/mem'
make[2]: Nothing to be done for 'build'.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/mem'
make build --directory=proc/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/proc'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/proc'
make build --directory=syscall/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/syscall'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/syscall'
make build --directory=trap/
make[2]: Entering directory '/home/xsy/whu-oslab-lab7/kernel/trap'
make[2]: 'build' is up to date.
make[2]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel/trap'
make[1]: Leaving directory '/home/xsy/whu-oslab-lab7/kernel'
qemu-system-riscv64 -machine virt -bios none -kernel kernel-qemu  -m 128M -smp 2 -nographic -global virtio-mmio.force-legacy=false -drive file=fs.img,if=none,format=raw,id=hd0 -device virtio-blk-device,drive=hd0,bus=virtio-mmio-bus.0

=== OS Kernel Booting ===

Physical memory manager initialized.
Kernel virtual memory initialized.
Kernel page table for hart 0 initialized.
Trap vectors initialized.
Trap handling for hart 0 initialized.
UART initialized.
[virtio] magic=0x74726976 version=2 device=2 vendor=0x554d4551
[virtio] device features=0x10130006e54
[virtio] driver features=0x10100006654
[virtio] desc=80014000 avail=80014080 used=80015000
Virtio disk initialized.
Buffer cache initialized.
[fs] read_superblock: start (dev=1)
[virtio] submit block 1 write=0
[virtio] used entry (used_idx=0 device_idx=1)
[virstio] complete block 1 write=0
[fs] read_superblock: bread done
[fs] init start
[virtio] submit block 2 write=0
[virtio] used entry (used_idx=1 device_idx=2)
[virstio] complete block 2 write=0
[virtio] submit block 2 write=1
[virtio] used entry (used_idx=2 device_idx=3)
[virstio] complete block 2 write=1
[fs] log initialized
[virtio] submit block 32 write=0
[virtio] used entry (used_idx=3 device_idx=4)
[virstio] complete block 32 write=0
[fs] ilock panic: inode=1 dip_type=0 block=32
panic: ilock: no type
